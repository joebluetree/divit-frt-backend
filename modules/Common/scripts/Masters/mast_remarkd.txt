CREATE TABLE IF NOT EXISTS mast_remarkd (
	remd_id int4 DEFAULT nextval('master_sequence'::regclass) NOT NULL,
	remd_remarkm_id int4 NOT NULL,
	remd_desc1 varchar(100) NULL,
	remd_order int4 NULL,
	mast_remarkmrem_id int4 NULL,
	rec_version int4 DEFAULT 1 NOT NULL,
	rec_locked text NULL,
	rec_created_by varchar(20) NOT NULL,
	rec_created_date timestamptz NOT NULL,
	rec_edited_by varchar(20) NULL,
	rec_edited_date timestamptz NULL,
	rec_company_id int4 NOT NULL,
	CONSTRAINT pk_mast_remarkd_remd_id PRIMARY KEY (remd_id)
);

DO $$ 
BEGIN
    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE  indexname = 'IX_mast_remarkd_mast_remarkmrem_id') THEN
	CREATE INDEX "IX_mast_remarkd_mast_remarkmrem_id" ON mast_remarkd USING btree (mast_remarkmrem_id);
    END IF;
    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE  indexname = 'IX_mast_remarkd_rec_company_id') THEN
	CREATE INDEX "IX_mast_remarkd_rec_company_id" ON mast_remarkd USING btree (rec_company_id);
    END IF;
    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE  indexname = 'IX_mast_remarkd_remd_remarkm_id') THEN
	CREATE INDEX "IX_mast_remarkd_remd_remarkm_id" ON mast_remarkd USING btree (remd_remarkm_id);
    END IF;

END $$;

INSERT INTO mast_remarkd  
(remd_id, remd_remarkm_id, remd_desc1, remd_order, mast_remarkmrem_id, rec_version, rec_locked, rec_created_by, rec_created_date,rec_company_id)  
SELECT 1, 1, 'Quotation Fcl', 1, NULL, 1, NULL, 'ADMIN', now(), 1  
WHERE NOT EXISTS (SELECT 1 FROM mast_remarkd WHERE remd_id = 1);

