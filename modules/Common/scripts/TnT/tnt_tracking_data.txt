CREATE TABLE IF NOT EXISTS tnt_tracking_data (
	track_id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	tnt_trackm_id int4 NOT NULL,
	tnt_trackd_id int4 NOT NULL,
	"tnt_eventCreatedDateTime" timestamp NOT NULL,
	"tnt_eventCreatedDateTime_utc" timestamptz NOT NULL,
	"tnt_eventDateTime" timestamp NOT NULL,
	"tnt_eventDateTime_utc" timestamptz NOT NULL,
	tnt_container varchar(100) NULL,
	tnt_transport_mode varchar(100) NULL,
	tnt_event_type varchar(100) NULL,
	tnt_event_confirm_status varchar(100) NULL,
	tnt_status_code varchar(100) NULL,
	tnt_status_name varchar(100) NULL,
	tnt_port_code varchar(100) NULL,
	tnt_port_name varchar(100) NULL,
	tnt_port_location varchar(100) NULL,
	tnt_vessel varchar(100) NULL,
	tnt_vessel_imon varchar(100) NULL,
	tnt_voyage varchar(100) NULL,
	tnt_row_type varchar(30) NULL,
	rec_version int4 DEFAULT 1 NOT NULL,
	rec_locked bpchar(1) DEFAULT 'N'::bpchar NOT NULL,
	rec_created_by varchar(20) NOT NULL,
	rec_created_date timestamptz NOT NULL,
	rec_edited_by varchar(20) NULL,
	rec_edited_date timestamptz NULL,
	rec_company_id int4 NOT NULL,
	CONSTRAINT pk_tnt_tracking_data_track_id PRIMARY KEY (track_id)
);

DO $$  
BEGIN
    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE indexname = 'IX_tnt_tracking_data_rec_company_id') THEN  
	CREATE INDEX "IX_tnt_tracking_data_rec_company_id" ON tnt_tracking_data USING btree (rec_company_id);
    END IF;  

    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE  indexname = 'IX_tnt_tracking_data_tnt_trackd_id') THEN
	CREATE INDEX "IX_tnt_tracking_data_tnt_trackd_id" ON tnt_tracking_data USING btree (tnt_trackd_id);
    END IF;

    IF NOT EXISTS (SELECT 1 FROM pg_indexes WHERE  indexname = 'IX_tnt_tracking_data_tnt_trackm_id') THEN
	CREATE INDEX "IX_tnt_tracking_data_tnt_trackm_id" ON tnt_tracking_data USING btree (tnt_trackm_id);
    END IF;

END $$;